<?php namespace app\admin\controller;use think\Db;class Conch extends Base{public function theme(){if (Request()->isPost()) {$conch = input();$conch['nav']['type']['PC'] = '' . join(',', $conch['nav']['type']['PC']);$conch['nav']['type']['mobile'] = '' . join(',', $conch['nav']['type']['mobile']);$conch['nav']['mid']['PC'] = '' . join(',', $conch['nav']['mid']['PC']);$conch['nav']['mid']['mobile'] = '' . join(',', $conch['nav']['mid']['mobile']);$conch['nav']['aid']['PC'] = '' . join(',', $conch['nav']['aid']['PC']);$conch['nav']['aid']['mobile'] = '' . join(',', $conch['nav']['aid']['mobile']);$conch['nav']['top']['PC'] = '' . join(',', $conch['nav']['top']['PC']);$conch['nav']['top']['mobile'] = '' . join(',', $conch['nav']['top']['mobile']);$conch['nav']['bottom']['PC'] = '' . join(',', $conch['nav']['bottom']['PC']);$conch['nav']['bottom']['mobile'] = '' . join(',', $conch['nav']['bottom']['mobile']);$conch['show']['filter']['id-'.$type_id.''] = '' . join(',', $conch['show']['filter']['id-'.$type_id.'']);$conch['theme']['search']['filter'] = '' . join(',', $conch['theme']['search']['filter']);$conch['actor']['show']['filter'] = join(',', $conch['actor']['show']['filter']);$conch_new['theme'] = $conch['theme'];$conch_new['home'] = $conch['home'];$conch_new['nav'] = $conch['nav'];$conch_new['type'] = $conch['type'];$conch_new['detail'] = $conch['detail'];$conch_new['play'] = $conch['play'];$conch_new['show'] = $conch['show'];$conch_new['art'] = $conch['art'];$conch_new['actor'] = $conch['actor'];$conch_new['topic'] = $conch['topic'];$conch_new['custom'] = $conch['custom'];$conch_old = config('conchvip');$conch_new = array_merge($conch_old, $conch_new);$res = mac_arr2file(APP_PATH . 'extra/conchvip.php', $conch_new);if ($res === false) {return $this->error('保存失败，请重试!');}return $this->success('保存成功!');}$conch = config('conchvip');$this->assign('conch', $conch);$this->assign('title', '首涂主题设置');return $this->fetch('admin@conch/theme');}}